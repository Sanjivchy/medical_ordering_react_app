import React from 'react'
import { useEffect } from 'react'
import { useState } from 'react'
import { useSelector } from 'react-redux'
import { Link, useNavigate, useParams } from 'react-router-dom';
import server from '../../lib/server'

function DonorView(props) {
  const { token } = useSelector(state => state.auth)
  const { Id } = useParams()
  const navigate = useNavigate();
  const [donor, setDonor] = useState()


  const getdata = async () => {
    const { data } = await server.get(`donar/crud/${Id}`, {
      headers: {
        Authorization: `Bearer ${token}`
      }
    })
    console.log(data, 'data');
    setDonor(data)
  }

  useEffect(() => {
    getdata();
  }, [])

  const handleDelete = (id) => {
    const res = server.delete(`donar/crud/${id}`, {
      headers: {
        Authorization: `Bearer ${token}`
      }
    })
    getdata()
  }

  return (
    <>
      {!donor && 'dasdasd'}
      <div className='ml-[255px] p-10 '>
        <Link className='flex items-center mb-2' to='/donors'>
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15.75 8.25095H4.81045L8.7802 4.2812L7.7197 3.2207L1.93945 9.00095L7.7197 14.7812L8.7802 13.7207L4.81045 9.75095H15.75V8.25095Z" fill="black" />
          </svg>
          <span>back</span>
        </Link>
        <h2 className='text-2xl text-primary font-bold'>Approve Donar Agency  Request</h2>
        {/* details */}
        <div className='max-w-5xl w-full p-6 mx-auto shadow-lg mt-6 rounded-lg'>
          <h3 className='text-2xl font-bold text-primary text-center'>
            {donor && donor.name}
          </h3>

          <p className='flex items-center text-center justify-center space-x-2 text-sm text-black mb-2'>
            <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M8.00001 1.5C6.54184 1.50172 5.1439 2.08174 4.11282 3.11281C3.08174 4.14389 2.50173 5.54184 2.50001 7C2.49826 8.19161 2.8875 9.35089 3.60801 10.3C3.60801 10.3 3.75801 10.4975 3.78251 10.526L8.00001 15.5L12.2195 10.5235C12.2415 10.497 12.392 10.3 12.392 10.3L12.3925 10.2985C13.1127 9.34981 13.5017 8.19107 13.5 7C13.4983 5.54184 12.9183 4.14389 11.8872 3.11281C10.8561 2.08174 9.45817 1.50172 8.00001 1.5ZM8.00001 9C7.60444 9 7.21776 8.8827 6.88887 8.66294C6.55997 8.44318 6.30362 8.13082 6.15225 7.76537C6.00087 7.39991 5.96126 6.99778 6.03844 6.60982C6.11561 6.22186 6.30609 5.86549 6.58579 5.58579C6.8655 5.30608 7.22186 5.1156 7.60983 5.03843C7.99779 4.96126 8.39992 5.00087 8.76537 5.15224C9.13082 5.30362 9.44318 5.55996 9.66294 5.88886C9.88271 6.21776 10 6.60444 10 7C9.99934 7.53023 9.78842 8.03855 9.41349 8.41348C9.03856 8.78841 8.53024 8.99934 8.00001 9Z" fill="black" />
            </svg>
            <span>location:</span>
            <span>{donor && donor.pradesh_name},{donor && donor.district_name},{donor && donor.gaupalika_name}</span>
          </p>
          <div className='flex item-center justify-center space-x-4'>
            <p className='flex items-center space-x-1 justify-center'>
              <svg width="18" height="19" viewBox="0 0 18 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M17.8187 6.39112C17.8261 6.47353 17.8299 6.55623 17.8302 6.63897C17.8302 8.20054 16.5643 9.46648 15.0027 9.46648C14.6739 9.4668 14.3476 9.40965 14.0385 9.29763C12.6096 9.72291 10.8731 9.97245 9.00005 9.97245C7.12699 9.97245 5.39052 9.72291 3.96156 9.29763C3.65248 9.40965 3.32619 9.4668 2.99743 9.46648C1.43586 9.46648 0.169922 8.20058 0.169922 6.63897C0.169922 6.55541 0.174281 6.47286 0.181383 6.39112C0.173758 6.32675 0.169931 6.26199 0.169922 6.19716C0.169992 4.11212 4.12335 2.42188 9.00008 2.42188C13.8768 2.42188 17.8302 4.11212 17.8302 6.19716C17.8302 6.2622 17.8263 6.32689 17.8187 6.39112Z" fill="#132028" />
                <path d="M16.8188 13.8594C16.3101 15.9911 14.031 16.4646 11.2963 16.4646H6.70464C3.96994 16.4646 1.69076 15.9912 1.18208 13.8594C1.0635 13.3625 1.12924 12.8474 1.35477 12.3764L2.95417 7.90118C3.39092 6.98894 4.38893 6.3549 5.54497 6.22422V4.76478C5.54497 4.28954 5.93022 3.9043 6.40549 3.9043C6.88077 3.9043 7.26601 4.28954 7.26601 4.76478V6.19884H10.735V4.76478C10.735 4.28954 11.1202 3.9043 11.5955 3.9043C12.0707 3.9043 12.456 4.28954 12.456 4.76478V6.22426C13.612 6.35493 14.61 6.98894 15.0468 7.90121L16.6462 12.3764C16.8717 12.8474 16.9374 13.3624 16.8188 13.8594Z" fill="#5A5D5E" />
                <path d="M7.48444 8.52552C7.48444 8.80175 7.06594 9.02566 6.5497 9.02566C6.03347 9.02566 5.61497 8.80175 5.61497 8.52552C5.61497 8.2493 6.03347 8.02539 6.5497 8.02539C7.06594 8.02539 7.48444 8.2493 7.48444 8.52552ZM8.99999 8.02539C8.48375 8.02539 8.06525 8.2493 8.06525 8.52552C8.06525 8.80175 8.48375 9.02566 8.99999 9.02566C9.51622 9.02566 9.93472 8.80175 9.93472 8.52552C9.93472 8.2493 9.51622 8.02539 8.99999 8.02539ZM11.4503 8.02539C10.934 8.02539 10.5155 8.2493 10.5155 8.52552C10.5155 8.80175 10.934 9.02566 11.4503 9.02566C11.9665 9.02566 12.385 8.80175 12.385 8.52552C12.385 8.2493 11.9665 8.02539 11.4503 8.02539ZM6.0366 9.55187C5.40663 9.55187 4.89599 9.82511 4.89599 10.1622C4.89599 10.4993 5.40667 10.7725 6.0366 10.7725C6.66653 10.7725 7.17721 10.4993 7.17721 10.1622C7.17721 9.82511 6.66653 9.55187 6.0366 9.55187ZM8.99999 9.55187C8.37002 9.55187 7.85938 9.82511 7.85938 10.1622C7.85938 10.4993 8.37006 10.7725 8.99999 10.7725C9.62992 10.7725 10.1406 10.4993 10.1406 10.1622C10.1406 9.82511 9.62995 9.55187 8.99999 9.55187ZM11.9634 9.55187C11.3334 9.55187 10.8228 9.82511 10.8228 10.1622C10.8228 10.4993 11.3334 10.7725 11.9634 10.7725C12.5933 10.7725 13.104 10.4993 13.104 10.1622C13.104 9.82511 12.5933 9.55187 11.9634 9.55187ZM5.48222 11.3054C4.72942 11.3054 4.11914 11.6319 4.11914 12.0347C4.11914 12.4375 4.72942 12.764 5.48222 12.764C6.23502 12.764 6.8453 12.4375 6.8453 12.0347C6.8453 11.6319 6.23502 11.3054 5.48222 11.3054ZM8.99999 11.3054C8.24719 11.3054 7.63691 11.6319 7.63691 12.0347C7.63691 12.4375 8.24719 12.764 8.99999 12.764C9.75279 12.764 10.3631 12.4375 10.3631 12.0347C10.3631 11.6319 9.75279 11.3054 8.99999 11.3054ZM12.5178 11.3054C11.765 11.3054 11.1547 11.6319 11.1547 12.0347C11.1547 12.4375 11.765 12.764 12.5178 12.764C13.2706 12.764 13.8808 12.4375 13.8808 12.0347C13.8808 11.6319 13.2706 11.3054 12.5178 11.3054Z" fill="#F4F9F9" />
              </svg>
              <span>{donor && donor.phone_no}</span>
            </p>
            <p className='flex items-center space-x-1 justify-center'>
              <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_50_3340)">
                  <path fillRule="evenodd" clip-rule="evenodd" d="M1.88547 1.01017C2.06045 0.835459 2.27055 0.699929 2.50187 0.61256C2.73318 0.525192 2.98043 0.487981 3.22721 0.503393C3.47399 0.518805 3.71469 0.586489 3.93333 0.701958C4.15198 0.817428 4.34359 0.978046 4.49547 1.17317L6.29047 3.47917C6.61947 3.90217 6.73547 4.45317 6.60547 4.97317L6.05847 7.16317C6.03019 7.2766 6.03172 7.39541 6.06291 7.50808C6.0941 7.62075 6.15388 7.72343 6.23647 7.80617L8.69347 10.2632C8.77631 10.3459 8.87916 10.4058 8.99202 10.437C9.10488 10.4682 9.22389 10.4696 9.33747 10.4412L11.5265 9.89417C11.7831 9.83001 12.0509 9.82503 12.3098 9.8796C12.5686 9.93417 12.8116 10.0469 13.0205 10.2092L15.3265 12.0032C16.1555 12.6482 16.2315 13.8732 15.4895 14.6142L14.4555 15.6482C13.7155 16.3882 12.6095 16.7132 11.5785 16.3502C8.93965 15.4217 6.54374 13.911 4.56847 11.9302C2.58776 9.95519 1.07708 7.55963 0.148471 4.92117C-0.213529 3.89117 0.111471 2.78417 0.851471 2.04417L1.88547 1.01017Z" fill="black" />
                </g>
                <defs>
                  <clipPath id="clip0_50_3340">
                    <rect width="16" height="16" fill="white" transform="translate(0 0.5)" />
                  </clipPath>
                </defs>
              </svg>

              <span>{donor && donor.mobile_no}</span>
            </p>
          </div>
          <div>
            <p className='flex items-center space-x-2 justify-center pt-3'>
              <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_50_3362)">
                  <path d="M12.5 0.5H4.5C3.96957 0.5 3.46086 0.710714 3.08579 1.08579C2.71071 1.46086 2.5 1.96957 2.5 2.5V14.5C2.5 15.0304 2.71071 15.5391 3.08579 15.9142C3.46086 16.2893 3.96957 16.5 4.5 16.5H12.5C13.0304 16.5 13.5391 16.2893 13.9142 15.9142C14.2893 15.5391 14.5 15.0304 14.5 14.5V2.5C14.5 1.96957 14.2893 1.46086 13.9142 1.08579C13.5391 0.710714 13.0304 0.5 12.5 0.5V0.5ZM11.5 7.5C11.5 8.29565 11.1839 9.05871 10.6213 9.62132C10.0587 10.1839 9.29565 10.5 8.5 10.5C7.70435 10.5 6.94129 10.1839 6.37868 9.62132C5.81607 9.05871 5.5 8.29565 5.5 7.5C5.5 6.70435 5.81607 5.94129 6.37868 5.37868C6.94129 4.81607 7.70435 4.5 8.5 4.5C9.29565 4.5 10.0587 4.81607 10.6213 5.37868C11.1839 5.94129 11.5 6.70435 11.5 7.5ZM8.5 11.5C11.123 11.5 12.646 12.326 13.5 13.255V14.5C13.5 14.7652 13.3946 15.0196 13.2071 15.2071C13.0196 15.3946 12.7652 15.5 12.5 15.5H4.5C4.23478 15.5 3.98043 15.3946 3.79289 15.2071C3.60536 15.0196 3.5 14.7652 3.5 14.5V13.255C4.354 12.325 5.877 11.5 8.5 11.5Z" fill="black" />
                </g>
                <defs>
                  <clipPath id="clip0_50_3362">
                    <rect width="16" height="16" fill="white" transform="translate(0.5 0.5)" />
                  </clipPath>
                </defs>
              </svg>
              <span>
                {donor && donor.related_person}
              </span>
            </p>
          </div>

          <div className='text-center py-4 uppercase'>
            <p className='font-bold text-sm mb-3'>Supporting Document</p>
            <figure className='max-w-2xl aspect-video mx-auto'>
              <img className='w-full h-full' src={donor && donor.document} alt="documt proof" />
            </figure>
          </div>
          <div>
          </div>
        </div>
      </div>
    </>
  )
}

export default DonorView